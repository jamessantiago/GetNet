<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="A front-end template that helps you build fast, modern mobile web apps.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">

    <!--Tile Icon for Windows-->
    <meta name="msapplication-TileColor" content="#3372DF">

    <title>@ViewData["Title"] - getnet</title>

    @switch ((Dependencies)ViewData["Dependencies"])
    {
        case Dependencies.GetnetMainWIthFormsAndTables:
        case Dependencies.GetNetMainWithTables:
            <environment names="Development">
                <link rel="stylesheet" href="~/lib/material-design-lite/material.css" />
                <link rel="stylesheet" href="~/lib/datatables/media/css/dataTables.material.css" />
                <link rel="stylesheet" href="~/lib/datatables/media/css/dataTables.material.css" />
                <link rel="stylesheet" href="~/css/site.css" />
            </environment>
            <environment names="Staging,Production">
                <link rel="stylesheet" href="~/css/gmft.min.css" asp-append-version="true" />
            </environment>
            break;
        case Dependencies.GetNetMainWithForms:
        case Dependencies.GetNetMain:
        default:
            <environment names="Development">
                <link rel="stylesheet" href="~/lib/material-design-lite/material.css" />
                <link rel="stylesheet" href="~/lib/datatables/media/css/dataTables.material.css" />
                <link rel="stylesheet" href="~/css/site.css" />
            </environment>
            <environment names="Staging,Production">
                <link rel="stylesheet" href="~/css/gmf.min.css" asp-append-version="true" />
            </environment>
            break;
    }
    @RenderSection("css", false)
</head>
<body>
    <div class="getnet-layout mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
        <header class="getnet-header mdl-layout__header mdl-color--grey-100 mdl-color-text--grey-600">
            <div class="mdl-layout__header-row">
                <a href="/"><img src="~/images/logo_56.png" /></a>
                <span class="mdl-layout-title">@ViewData["Title"]</span>
                <div class="mdl-layout-spacer"></div>
                <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable">
                    <label class="mdl-button mdl-js-button mdl-button--icon" for="search">
                        <i class="material-icons">search</i>
                    </label>
                    <div class="mdl-textfield__expandable-holder">
                        <input class="mdl-textfield__input" type="text" id="search">
                        <label class="mdl-textfield__label" for="search">Enter your query...</label>
                    </div>
                </div>
                <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" id="hdrbtn">
                    <i class="material-icons">more_vert</i>
                </button>
                <ul class="mdl-menu mdl-js-menu mdl-js-ripple-effect mdl-menu--bottom-right" for="hdrbtn">
                    <li class="mdl-menu__item">About</li>
                    <li class="mdl-menu__item" onclick="window.location.href = '/configure'">Configuration</li>
                </ul>
            </div>
            @RenderSection("Tabs", false)
            <div id="fullpage-loading" style="display:none" class="mdl-progress mdl-js-progress mdl-progress__indeterminate"></div>
        </header>
        <div class="getnet-drawer mdl-layout__drawer mdl-color--blue-grey-900 mdl-color-text--blue-grey-50">
            <header class="getnet-drawer-header">
                <div class="getnet-avatar-dropdown">
                    <span>@(User.Identity?.Name ?? "Anonymous")</span>
                    <div class="mdl-layout-spacer"></div>
                    <button id="accbtn" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
                        <i class="material-icons" role="presentation">arrow_drop_down</i>
                        <span class="visuallyhidden">Accounts</span>
                    </button>
                    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="accbtn">
                        @if (User.Identity.IsAuthenticated)
            {
                            <li class="mdl-menu__item" onclick="window.location.href = '/logoff'">Logoff</li>
                        }
                        else
                        {
                            <li class="mdl-menu__item" onclick="window.location.href = '/login'">Login</li>
                        }
                    </ul>
                </div>
            </header>
            <nav class="getnet-navigation mdl-navigation mdl-color--blue-grey-800">
                <a class="mdl-navigation__link" href="/"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">home</i>Home</a>
                <a class="mdl-navigation__link" href="/sites"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">business</i>Sites</a>
                <div class="mdl-layout-spacer"></div>
                <a class="mdl-navigation__link" href="#" onclick="getnet.toggleDrawer()"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">keyboard_arrow_left</i><span class="visuallyhidden">Hide</span></a>
            </nav>
        </div>
        <main class="mdl-layout__content mdl-color--grey-100">
            <div class="mdl-grid getnet-content">
                @RenderBody()
            </div>
            <div id="global-snack" class="mdl-js-snackbar mdl-snackbar">
                <div class="mdl-snackbar__text"></div>
                <button type="button" class="mdl-snackbar__action"></button>
            </div>
        </main>
    </div>

    @switch ((Dependencies)ViewData["Dependencies"])
    {
        case Dependencies.GetnetMainWIthFormsAndTables:
            <environment names="Development">
                <script src="~/lib/jquery/dist/jquery.js"></script>
                <script src="~/lib/jquery-form/jquery.form.js"></script>
                <script src="~/lib/material-design-lite/material.js"></script>
                <script src="~/lib/datatables/media/js/jquery.dataTables.js"></script>
                <script src="~/lib/datatables/media/js/dataTables.material.js"></script>
                <script src="~/js/site.js" asp-append-version="true"></script>
            </environment>
            <environment names="Staging,Production">
                <script src="~/js/gmft.min.js" asp-append-version="true"></script>
            </environment>
            break;
        case Dependencies.GetNetMainWithForms:
            <environment names="Development">
                <script src="~/lib/jquery/dist/jquery.js"></script>
                <script src="~/lib/jquery-form/jquery.form.js"></script>
                <script src="~/lib/material-design-lite/material.js"></script>
                <script src="~/js/site.js" asp-append-version="true"></script>
            </environment>
            <environment names="Staging,Production">
                <script src="~/js/gmft.min.js" asp-append-version="true"></script>
            </environment>
            break;
        case Dependencies.GetNetMainWithTables:
            <environment names="Development">
                <script src="~/lib/jquery/dist/jquery.js"></script>
                <script src="~/lib/material-design-lite/material.js"></script>
                <script src="~/lib/datatables/media/js/jquery.dataTables.js"></script>
                <script src="~/lib/datatables/media/js/dataTables.material.js"></script>
                <script src="~/js/site.js" asp-append-version="true"></script>
            </environment>
            <environment names="Staging,Production">
                <script src="~/js/gmft.min.js" asp-append-version="true"></script>
            </environment>
            break;
        case Dependencies.GetNetMain:
        default:
            <environment names="Development">
                <script src="~/lib/jquery/dist/jquery.js"></script>
                <script src="~/lib/material-design-lite/material.js"></script>
                <script src="~/js/site.js" asp-append-version="true"></script>
            </environment>
            <environment names="Staging,Production">
                <script src="~/js/gm.min.js" asp-append-version="true"></script>
            </environment>
            break;
    }



    <script>
        getnet.init({});
        @foreach (var message in Context.Session.GetSnackMessages())
        {
            @if (message.actionHandler.HasValue())
            {
                @:var data = @Html.Raw(message.AsJson());
                @:var action = data.actionHandler;
                @:data.actionHandler = function() {
                @:  eval(action);
                @:};
                @:getnet.showSnack(data);
            } else {
            @:getnet.showSnack(@Html.Raw(message.AsJson()));
            }
        }
        getnet.Snacks.init({ refresh: 10 });
    </script>

    @RenderSection("scripts", required: false)
</body>
</html>
